
{% extends "event/back.html.twig" %}
{% block body %}

    <h1 class="mt-4">Events table</h1>
    <div class="card mb-4">
        <div class="card-header">
            <i class="fas fa-table me-1"></i>
            Events
        </div>
        <div class="card-body">
            <table id="datatablesSimple">
        <tr>
            <th>ID</th>
            <th>name</th>
            <th>description</th>
            <th>date</th>
            <th>image</th>
            <th>event id</th>
        </tr>
        
            
        {% if review %}
        {% else %}
        <h1>Couldnt find any reviews for this event</h1>
        {% endif %}
        {% for a in review %}<tr>

            <td>
                {{ a.id }}
            </td>
            <td>
                {{ a.nom }}
            </td>
            <td>
                {{ a.description }}
            </td>
            <td>
                {{ a.score }}
            </td>
            <td>{{ a.date|date('Y-m-d') }} </td>
            <td>
                <input type="hidden" name="referer" 
	                value="{{app.request.headers.get('referer')}}"/>
                {{ a.getIdEvent() }}
                {% set reviewid = a.getIdEvent()  %}
                
            </td>
            <td>
                <a href="{{ path('delete-review',{'id':a.id,'id_event':a.getIdEvent() }) }}" class="btn btn-secondary">Delete Review</a>
                <a href="{{ path('modifier-review',{'id':a.id,'id_event':a.getIdEvent() }) }}" class="btn btn-secondary">Update Review</a>
                
            </td>
        </tr>
        
        {% endfor %}
        {% if review  %}
        {% set review = review[0].getIdEvent() %}
        
    </table>
    <a href="{{path('add_review',{'id_event':review})}}" class="btn btn-primary">Add Review</a>
    {% endif %}


</html>
{% endblock %}